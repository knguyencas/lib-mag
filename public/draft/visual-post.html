<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Psyche Journey – Visual Post</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@275;300;400;500;600;700&family=Cardo:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/visual-post.css" />
</head>
<body>
  <header class="header">
    <div class="first_header">
      <a href="index.html" style="text-decoration: none;">
        <h1 class="logo">PSYCHE JOURNEY</h1>
      </a>
      <a href="contact.html">Contact</a>
      <a href="#" id="authLink">Login</a>
      <span class="header-spacer"></span>
      <a href="themes.html" class="nav-link-inline">Back to Themes</a>
    </div>

    <nav>
      <ul class="nav_bar">
        <li><a href="index.html">Home</a></li>
        <li><a href="library.html">Library</a></li>
        <li><a href="themes.html" class="active">Themes</a></li>
        <li><a href="perspective.html">Perspective</a></li>
        <li><a href="about.html">About</a></li>
      </ul>
    </nav>
  </header>

  <main class="visual-post-page">
    <div class="loading-spinner" id="loadingSpinner">
      <div class="spinner"></div>
      <p>Loading...</p>
    </div>

    <div class="post-not-found" id="postNotFound" style="display: none;">
      <h2>Post Not Found</h2>
      <p>The visual post you're looking for doesn't exist or has been removed.</p>
      <a href="themes.html" class="btn-back">Back to Themes</a>
    </div>

    <article class="visual-post-container" id="visualPostContainer" style="display: none;">
      <section class="post-header-section">
        <div class="post-meta-info">
          <div class="author-info">
            <div class="author-avatar" id="authorAvatar"></div>
            <div class="author-details">
              <span class="author-name" id="authorName">@username</span>
              <span class="post-date" id="postDate">Jan 1, 2025</span>
            </div>
          </div>

          <div class="post-actions" id="postActions" style="display: none;">
            <button class="btn-edit" id="editPostBtn">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
              </svg>
              Edit
            </button>
            <button class="btn-delete" id="deletePostBtn">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
              </svg>
              Delete
            </button>
          </div>
        </div>

        <h1 class="post-title" id="postTitle">Visual Post Title</h1>
        
        <div class="post-tags" id="postTags"></div>
        
        <div class="post-genre" id="postGenre"></div>
      </section>

      <section class="post-image-section">
        <div class="image-container">
          <img id="postImage" src="" alt="Visual post image" />
        </div>
      </section>

      <section class="post-description-section" id="descriptionSection">
        <h2>About This Visual</h2>
        <p class="post-description" id="postDescription"></p>
      </section>

      <section class="post-engagement-section">
        <div class="engagement-stats">
          <div class="stat-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
            <span id="likesCount">0</span>
            <span class="stat-label">Likes</span>
          </div>
          <div class="stat-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
            </svg>
            <span id="viewsCount">0</span>
            <span class="stat-label">Views</span>
          </div>
        </div>

        <div class="engagement-actions">
          <button class="btn-like" id="likeBtn">
            <svg class="heart-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
            </svg>
            <span class="like-text">Like</span>
          </button>

          <button class="btn-share" id="shareBtn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="18" cy="5" r="3"></circle>
              <circle cx="6" cy="12" r="3"></circle>
              <circle cx="18" cy="19" r="3"></circle>
              <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
              <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
            </svg>
            Share
          </button>
        </div>
      </section>

      <section class="related-posts-section" id="relatedPostsSection">
        <h2>More from this genre</h2>
        <div class="related-posts-grid" id="relatedPostsGrid">
        </div>
      </section>
    </article>
  </main>

  <div id="editModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Edit Visual Post</h2>
      <form id="editPostForm">
        <div class="form-group">
          <label for="editTitle">Title *</label>
          <input type="text" id="editTitle" maxlength="200" required>
        </div>
        <div class="form-group">
          <label for="editDescription">Description</label>
          <textarea id="editDescription" rows="6" maxlength="1000"></textarea>
        </div>
        <div class="form-group">
          <label for="editTags">Tags (comma separated)</label>
          <input type="text" id="editTags" placeholder="art, inspiration, mindfulness">
        </div>
        <button type="submit" class="submit-btn">Update Post</button>
      </form>
    </div>
  </div>

  <div id="deleteModal" class="modal">
    <div class="modal-content modal-small">
      <h2>Delete Post?</h2>
      <p>Are you sure you want to delete this visual post? This action cannot be undone.</p>
      <div class="modal-actions">
        <button class="btn-cancel" id="cancelDeleteBtn">Cancel</button>
        <button class="btn-confirm-delete" id="confirmDeleteBtn">Delete</button>
      </div>
    </div>
  </div>

  <footer class="footer">
    <p>© 2025 Psyche Journey. Where visuals speak to the soul.</p>
  </footer>

  <footer class="footer">
    <p>© 2025 Psyche Journey. Visual exploration of the mind.</p>
  </footer>

  <script src="js/auth-client.js"></script>
  <script src="js/visual-post.js"></script>
</body>
</html>